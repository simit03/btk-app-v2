{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block head_extra_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile-mobile.css') }}">
    <style>
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    </style>
{% endblock %}

{% block content %}
<div class="profile-page">
    <div class="profile-container">
        <div class="profile-header">
            <h1 class="profile-title">ğŸ‘¤ Profilim</h1>
            <p class="profile-subtitle">KiÅŸisel bilgilerin ve istatistiklerin</p>
        </div>
        
        <div class="profile-content">
            <!-- KullanÄ±cÄ± Bilgileri KartÄ± -->
            <div class="profile-card">
                <div class="profile-avatar">
                    <span class="avatar-emoji">ğŸ‘¤</span>
                </div>
                
                <div class="profile-info">
                    <h2 class="user-name">{{ session.get('first_name', '') }} {{ session.get('last_name', '') }}</h2>
                    <p class="user-username">@{{ session.get('username', '') }}</p>
                    <p class="user-grade">{{ session.get('grade', '') }}. SÄ±nÄ±f Ã–ÄŸrencisi</p>
                </div>
                
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-icon">âœ…</span>
                        <span class="stat-value" id="profileCorrectQuestions">0</span>
                        <span class="stat-label">Ã‡Ã¶zÃ¼len Soru</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">ğŸ†</span>
                        <span class="stat-value" id="profileTotalAchievements">0</span>
                        <span class="stat-label">KupalarÄ±m</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">â­</span>
                        <span class="stat-value" id="profileTotalPoints">0</span>
                        <span class="stat-label">Toplam Puan</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">ğŸ¯</span>
                        <span class="stat-value" id="profileCompletedQuizzes">0</span>
                        <span class="stat-label">Quiz TamamlandÄ±</span>
                    </div>
                </div>
            </div>
            
            <!-- Profil DÃ¼zenleme BÃ¶lÃ¼mÃ¼ -->
            <div class="profile-edit-section">
                <h3>ğŸ“ Profil Bilgilerini DÃ¼zenle</h3>
                <div class="edit-form">
                    <div class="form-group">
                        <label>AdÄ±</label>
                        <input type="text" value="{{ session.get('first_name', '') }}" class="edit-input">
                    </div>
                    <div class="form-group">
                        <label>SoyadÄ±</label>
                        <input type="text" value="{{ session.get('last_name', '') }}" class="edit-input">
                    </div>
                    <div class="form-group">
                        <label>SÄ±nÄ±f</label>
                        <select class="edit-input">
                            <option value="1" {% if session.get('grade') == 1 %}selected{% endif %}>1. SÄ±nÄ±f</option>
                            <option value="2" {% if session.get('grade') == 2 %}selected{% endif %}>2. SÄ±nÄ±f</option>
                            <option value="3" {% if session.get('grade') == 3 %}selected{% endif %}>3. SÄ±nÄ±f</option>
                            <option value="4" {% if session.get('grade') == 4 %}selected{% endif %}>4. SÄ±nÄ±f</option>
                        </select>
                    </div>
                    <button class="save-btn">ğŸ’¾ DeÄŸiÅŸiklikleri Kaydet</button>
                </div>
            </div>
            
            <!-- Quiz Raporu BÃ¶lÃ¼mÃ¼ -->
            <div class="quiz-report-section">
                <h3>ğŸ“Š Quiz Raporu</h3>
                <div class="report-cards">
                    <div class="report-card correct">
                        <div class="report-icon">âœ…</div>
                        <div class="report-info">
                            <h4>DoÄŸru Ã‡Ã¶zÃ¼len</h4>
                            <span class="report-value" id="profileCorrectReport">0</span>
                            <span class="report-label">soru</span>
                        </div>
                    </div>
                    <div class="report-card incorrect">
                        <div class="report-icon">âŒ</div>
                        <div class="report-info">
                            <h4>YanlÄ±ÅŸ Ã‡Ã¶zÃ¼len</h4>
                            <span class="report-value" id="profileIncorrectReport">0</span>
                            <span class="report-label">soru</span>
                        </div>
                    </div>
                    <div class="report-card total">
                        <div class="report-icon">ğŸ“ˆ</div>
                        <div class="report-info">
                            <h4>Toplam BaÅŸarÄ±</h4>
                            <span class="report-value" id="profileSuccessPercentage">0%</span>
                            <span class="report-label">oran</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- BaÅŸarÄ±lar BÃ¶lÃ¼mÃ¼ -->
            <div class="achievements-section">
                <h3>ğŸ† BaÅŸarÄ±larÄ±m</h3>
                <div class="achievements-container" id="achievementsContainer">
                    <div class="achievements-loading">
                        <div class="loading-spinner"></div>
                        <p>BaÅŸarÄ±lar yÃ¼kleniyor...</p>
                    </div>
                </div>
            </div>
            

            
            <!-- HÄ±zlÄ± EriÅŸim -->
            <div class="profile-actions">
                <h3>ğŸš€ HÄ±zlÄ± EriÅŸim</h3>
                <div class="action-buttons">
                    <a href="/quiz" class="action-btn primary">
                        <span class="action-icon">ğŸ¯</span>
                        <span>Quiz'e BaÅŸla</span>
                    </a>
                    <a href="/progress" class="action-btn secondary">
                        <span class="action-icon">ğŸ“Š</span>
                        <span>Ä°lerleme Raporu</span>
                    </a>
                    <a href="/" class="action-btn secondary">
                        <span class="action-icon">ğŸ </span>
                        <span>Ana Sayfa</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block body_extra_scripts %}
    <script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %} 